

<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="graphrag_toolkit.lexical_graph.retrieval.processors package" href="graphrag_toolkit.lexical_graph.retrieval.processors.html" /><link rel="prev" title="graphrag_toolkit.lexical_graph.retrieval package" href="graphrag_toolkit.lexical_graph.retrieval.html" />

    <!-- Generated with Sphinx 7.4.7 and Furo 2024.08.06 -->
        <title>graphrag_toolkit.lexical_graph.retrieval.post_processors package - graphrag-toolkit 3.6.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=5c2e0e83" />
    <link rel="stylesheet" type="text/css" href="_static/css/dark_light_mode.css?v=33639cc8" />
    
    
<script src="https://prod.assets.shortbread.aws.dev/shortbread.js"></script>
<link href="https://prod.assets.shortbread.aws.dev/shortbread.css" rel="stylesheet">
</head>
  <body>
     
<svg xmlns="http://www.w3.org/2000/svg" class="hidden">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path class="icon-opacity" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line class="icon-opacity" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line class="icon-opacity" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line class="icon-opacity" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line class="icon-opacity" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line class="icon-opacity" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line class="icon-opacity" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line class="icon-opacity" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line class="icon-opacity" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle class="icon-opacity" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>
<svg xmlns="http://www.w3.org/2000/svg" class="hidden">
    <symbol id="svg-close" viewBox="0 0 24 24">
        <title>Close Menu</title>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor"
          stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
            <line x1="2" y1="22" x2="22" y2="2"/>
            <line x1="2" y1="2" x2="22" y2="22"/>
        </svg>
    </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" id="nav-menu-open" for="__navigation" tabindex="0">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">graphrag-toolkit 3.6.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" id="toc-menu-open-sm" for="__toc" tabindex="0">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-div show-div-sm justify-content-right">
    <label class="nav-close-icon" id="nav-menu-close" for="__navigation" tabindex="0">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-close"></use></svg></i>
    </label>
</div><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/logos/aws_light_theme_logo.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/logos/aws_dark_theme_logo.svg" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">graphrag-toolkit 3.6.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-div">
    <p class="sidebar-heading">Feedback</p>
    <p class="sidebar-text">
        Do you have a suggestion to improve this website or graphrag-toolkit?
        <a href="https://github.com/awslabs/graphrag-toolkit/issues">Give us feedback</a>.
    </p>
</div><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">README and Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/README.html">Lexical Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/overview.html">Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Graph Store</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/storage-model.html">Storage Model</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Graph Store</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/graph-model.html">Graph Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/graph-store-falkor-db.html">FalkorDB as a Graph Store</a></li>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/graph-store-neptune-analytics.html">Neptune Analytics as a Graph Store</a></li>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/graph-store-neptune-db.html">Neptune Database as a Graph Store</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vector Store</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/vector-store-neptune-analytics.html">Neptune Analytics as a Vector Store</a></li>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/vector-store-opensearch-serverless.html">Amazon OpenSearch Serverless as a Vector Store</a></li>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/vector-store-postgres.html">Postgres as a Vector Store</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Security</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/security.html">Security</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Querying</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/querying.html">Querying</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Multi-tenancy</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/metadata-filtering.html">Metadata Filtering</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Indexing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/indexing.html">Indexing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Indexing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/multi-tenancy.html">Multi-Tenancy</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/aws-profile.html">Using AWS Profiles in <code class="docutils literal notranslate"><span class="pre">GraphRAGConfig</span></code></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Batch Extraction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/batch-extraction.html">Batch Extraction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Batch Extraction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/hybrid-deployment.html">Hybrid Deployment</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="md/lexical-graph/faq.html">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Lexical Graph API</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="modules.html">graphrag_toolkit</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of graphrag_toolkit</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="graphrag_toolkit.html">graphrag_toolkit package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of graphrag_toolkit package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 current has-children"><a class="reference internal" href="graphrag_toolkit.lexical_graph.html">graphrag_toolkit.lexical_graph package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of graphrag_toolkit.lexical_graph package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4 has-children"><a class="reference internal" href="graphrag_toolkit.lexical_graph.indexing.html">graphrag_toolkit.lexical_graph.indexing package</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of graphrag_toolkit.lexical_graph.indexing package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="graphrag_toolkit.lexical_graph.indexing.build.html">graphrag_toolkit.lexical_graph.indexing.build package</a></li>
<li class="toctree-l5"><a class="reference internal" href="graphrag_toolkit.lexical_graph.indexing.extract.html">graphrag_toolkit.lexical_graph.indexing.extract package</a></li>
<li class="toctree-l5"><a class="reference internal" href="graphrag_toolkit.lexical_graph.indexing.load.html">graphrag_toolkit.lexical_graph.indexing.load package</a></li>
<li class="toctree-l5"><a class="reference internal" href="graphrag_toolkit.lexical_graph.indexing.utils.html">graphrag_toolkit.lexical_graph.indexing.utils package</a></li>
</ul>
</li>
<li class="toctree-l4 current has-children"><a class="reference internal" href="graphrag_toolkit.lexical_graph.retrieval.html">graphrag_toolkit.lexical_graph.retrieval package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of graphrag_toolkit.lexical_graph.retrieval package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l5 current current-page"><a class="current reference internal" href="#">graphrag_toolkit.lexical_graph.retrieval.post_processors package</a></li>
<li class="toctree-l5"><a class="reference internal" href="graphrag_toolkit.lexical_graph.retrieval.processors.html">graphrag_toolkit.lexical_graph.retrieval.processors package</a></li>
<li class="toctree-l5"><a class="reference internal" href="graphrag_toolkit.lexical_graph.retrieval.retrievers.html">graphrag_toolkit.lexical_graph.retrieval.retrievers package</a></li>
<li class="toctree-l5"><a class="reference internal" href="graphrag_toolkit.lexical_graph.retrieval.utils.html">graphrag_toolkit.lexical_graph.retrieval.utils package</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="graphrag_toolkit.lexical_graph.storage.html">graphrag_toolkit.lexical_graph.storage package</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of graphrag_toolkit.lexical_graph.storage package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="graphrag_toolkit.lexical_graph.storage.graph.html">graphrag_toolkit.lexical_graph.storage.graph package</a></li>
<li class="toctree-l5"><a class="reference internal" href="graphrag_toolkit.lexical_graph.storage.vector.html">graphrag_toolkit.lexical_graph.storage.vector package</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="graphrag_toolkit.lexical_graph.utils.html">graphrag_toolkit.lexical_graph.utils package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FalkorDB Plugin API</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="falkordb/modules.html">falkordb</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of falkordb</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="falkordb/falkordb.html">falkordb package</a></li>
</ul>
</li>
</ul>

</div></div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          

<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" id="toc-menu-open-md" for="__toc" tabindex="0">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="graphrag-toolkit-lexical-graph-retrieval-post-processors-package">
<h1>graphrag_toolkit.lexical_graph.retrieval.post_processors package<a class="headerlink" href="#graphrag-toolkit-lexical-graph-retrieval-post-processors-package" title="Link to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format">
<span id="graphrag-toolkit-lexical-graph-retrieval-post-processors-bedrock-context-format-module"></span><h2>graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format module<a class="headerlink" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format.BedrockContextFormat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format.</span></span><span class="sig-name descname"><span class="pre">BedrockContextFormat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback_manager:</span> <span class="pre">~llama_index.core.callbacks.base.CallbackManager</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/bedrock_context_format.html#BedrockContextFormat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format.BedrockContextFormat" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseNodePostprocessor</span></code></p>
<p>Handles the formatting and processing of nodes into an XML-structured
context for better organization and parsing. This class is designed to
group nodes by their source, incorporate metadata, and create a structured
output format.</p>
<p>Provides utility to manage nodes’ details and format information in a hierarchical XML style, useful
for structured data contexts.</p>
<dl class="simple">
<dt>Attributes:</dt><dd><p>inherit_from (type): BaseNodePostprocessor: Indicates this class extends the BaseNodePostprocessor.</p>
</dd>
</dl>
<p>Create a new model by parsing and validating input data from keyword arguments.</p>
<p>Raises [<cite>ValidationError</cite>][pydantic_core.ValidationError] if the input data cannot be
validated to form a valid model.</p>
<p><cite>self</cite> is explicitly positional-only to allow <cite>self</cite> as a field name.</p>
<dl class="py method">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format.BedrockContextFormat.class_name">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">class_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/bedrock_context_format.html#BedrockContextFormat.class_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format.BedrockContextFormat.class_name" title="Link to this definition">¶</a></dt>
<dd><p>Returns the name of the class in string format.</p>
<p>This method provides a way to retrieve the name of the class, which can be
useful for context identification or debugging purposes. It is implemented
as a class method, allowing it to be called directly on the class without
the need for an instance.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The name of the class as a string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format.BedrockContextFormat.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'arbitrary_types_allowed':</span> <span class="pre">True}</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format.BedrockContextFormat.model_config" title="Link to this definition">¶</a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker">
<span id="graphrag-toolkit-lexical-graph-retrieval-post-processors-bge-reranker-module"></span><h2>graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker module<a class="headerlink" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.</span></span><span class="sig-name descname"><span class="pre">BGEReranker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'BAAI/bge-reranker-v2-minicpm-layerwise'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpu_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">128</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/bge_reranker.html#BGEReranker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseNodePostprocessor</span></code>, <a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin.RerankerMixin" title="graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin.RerankerMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">RerankerMixin</span></code></a></p>
<p>BGEReranker class for re-ranking nodes or sentence pairs based on a
model.</p>
<p>This class utilizes a pre-trained re-ranker model to re-rank sentence pairs or nodes
with scores. It uses GPU for computations if available and is designed to work with
the LayerWiseFlagLLMReranker model from the FlagEmbedding library.</p>
<dl>
<dt>Attributes:</dt><dd><p>model_name (str): Name of the pre-trained re-ranker model to use.
gpu_id (Optional[int]): ID of the GPU to use for computations. If None and GPUs</p>
<blockquote>
<div><p>are available, the first free GPU will be used.</p>
</div></blockquote>
<p>reranker (Any): The re-ranker object initialized with the specified model.
device (Any): The torch device to be used for computations, either CPU or GPU.
batch_size_internal (int): Batch size used for processing sentence pairs</p>
<blockquote>
<div><p>or nodes.</p>
</div></blockquote>
</dd>
</dl>
<p>Initializes the __init__ function for configuring and setting up the
reranker model. This includes loading the necessary dependencies,
setting GPU device, and initializing key model parameters. If the
required dependencies are not installed or GPU is unavailable,
appropriate errors are raised to handle those issues.</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>model_name (str): The name of the model to be loaded. Defaults to</dt><dd><p>‘BAAI/bge-reranker-v2-minicpm-layerwise’.</p>
</dd>
<dt>gpu_id (Optional[int]): The ID of the GPU to be utilized. If None, assigns</dt><dd><p>the first available free GPU.</p>
</dd>
</dl>
<p>batch_size (int): The batch size for processing inputs. Defaults to 128.</p>
</dd>
<dt>Raises:</dt><dd><p>ImportError: If the FlagEmbedding package is not installed.
Exception: If no compatible GPU is available or any error occurs during</p>
<blockquote>
<div><p>initialization of the reranker model.</p>
</div></blockquote>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.batch_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">batch_size</span></span><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.batch_size" title="Link to this definition">¶</a></dt>
<dd><p>Gets the batch size for the internal configuration.</p>
<p>This property retrieves the value of the batch size from the internal
state of the object. It is commonly used to access the configured
batch size for operations requiring batching functionality.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>int: The size of the batch currently configured internally.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.batch_size_internal">
<span class="sig-name descname"><span class="pre">batch_size_internal</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.batch_size_internal" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.device">
<span class="sig-name descname"><span class="pre">device</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.device" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.gpu_id">
<span class="sig-name descname"><span class="pre">gpu_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.gpu_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'arbitrary_types_allowed':</span> <span class="pre">True,</span> <span class="pre">'protected_namespaces':</span> <span class="pre">('model_validate',</span> <span class="pre">'model_dump')}</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.model_config" title="Link to this definition">¶</a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.model_name">
<span class="sig-name descname"><span class="pre">model_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.model_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.rerank_pairs">
<span class="sig-name descname"><span class="pre">rerank_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pairs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">128</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/bge_reranker.html#BGEReranker.rerank_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.rerank_pairs" title="Link to this definition">¶</a></dt>
<dd><p>Re-ranks a list of sentence pairs based on a pre-trained reranker
model and returns the computed scores. This method utilizes a single
GPU for computing the scores and is optimized for batch processing.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>pairs (List[Tuple[str, str]]): A list of sentence pairs to be re-ranked.</dt><dd><p>Each pair includes two sentences as strings.</p>
</dd>
<dt>batch_size (int): The size of the batch for processing sentence pairs.</dt><dd><p>Defaults to 128.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>List[float]: A list of scores corresponding to the input sentence pairs,</dt><dd><p>where higher scores indicate higher relevance or similarity.</p>
</dd>
</dl>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception: If an error occurs during the re-ranking process, a detailed</dt><dd><p>exception is logged and re-raised.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.reranker">
<span class="sig-name descname"><span class="pre">reranker</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.reranker" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details">
<span id="graphrag-toolkit-lexical-graph-retrieval-post-processors-enrich-source-details-module"></span><h2>graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details module<a class="headerlink" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.EnrichSourceDetails">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.</span></span><span class="sig-name descname"><span class="pre">EnrichSourceDetails</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">*,</span> <span class="pre">callback_manager:</span> <span class="pre">~llama_index.core.callbacks.base.CallbackManager</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">source_info_accessor:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">~typing.List[str]</span> <span class="pre">|</span> <span class="pre">~string.Template</span> <span class="pre">|</span> <span class="pre">~typing.Callable[[~typing.Dict[str,</span> <span class="pre">~typing.Any]],</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/enrich_source_details.html#EnrichSourceDetails"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.EnrichSourceDetails" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseNodePostprocessor</span></code></p>
<p>This class is responsible for enriching source details in nodes.</p>
<p>Provides functionality to modify and process the source details of nodes based
on specified accessors, such as templates, key mappings, or callable
functions. It is primarily designed to assist in postprocessing nodes to
ensure their source information is properly formatted or updated before further
usage.</p>
<dl class="simple">
<dt>Attributes:</dt><dd><dl class="simple">
<dt>source_info_accessor (SourceInfoAccessorType): A variable determining how</dt><dd><p>the source information is accessed or modified. It can take various
forms such as a string, list, template, or callable.</p>
</dd>
</dl>
</dd>
</dl>
<p>Create a new model by parsing and validating input data from keyword arguments.</p>
<p>Raises [<cite>ValidationError</cite>][pydantic_core.ValidationError] if the input data cannot be
validated to form a valid model.</p>
<p><cite>self</cite> is explicitly positional-only to allow <cite>self</cite> as a field name.</p>
<dl class="py method">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.EnrichSourceDetails.class_name">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">class_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/enrich_source_details.html#EnrichSourceDetails.class_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.EnrichSourceDetails.class_name" title="Link to this definition">¶</a></dt>
<dd><p>Determines and returns the name of the class to represent the source
details.</p>
<p>This method is typically used to provide a standardized identifier for the
class, which can be utilized in different parts of the application where the
class name is required.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The name of the class as a string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.EnrichSourceDetails.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'arbitrary_types_allowed':</span> <span class="pre">True}</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.EnrichSourceDetails.model_config" title="Link to this definition">¶</a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.EnrichSourceDetails.source_info_accessor">
<span class="sig-name descname"><span class="pre">source_info_accessor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Template</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.EnrichSourceDetails.source_info_accessor" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.source_info_keys">
<span class="sig-prename descclassname"><span class="pre">graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.</span></span><span class="sig-name descname"><span class="pre">source_info_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/enrich_source_details.html#source_info_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.source_info_keys" title="Link to this definition">¶</a></dt>
<dd><p>Generates a function that retrieves the value of the first matching key
from a dictionary.</p>
<p>The generated function iterates through a list of specified keys, searching for the first
key present in a given dictionary and returning its associated value. If none of the keys
are found in the dictionary, the function returns None.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>keys (List[str]): A list of keys to search for in the dictionary.</p>
</dd>
<dt>Returns:</dt><dd><p>Callable[[Dict[str, Any]], str]: A function that takes a dictionary as input and returns
the value of the first matching key, or None if no match is found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.source_info_template">
<span class="sig-prename descclassname"><span class="pre">graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.</span></span><span class="sig-name descname"><span class="pre">source_info_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Template</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/enrich_source_details.html#source_info_template"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.source_info_template" title="Link to this definition">¶</a></dt>
<dd><p>Generates a function for formatting source information using a provided
template.</p>
<p>This function returns another function that, when called with a dictionary of
source properties, populates a string template with the values from the dictionary,
replacing placeholders in the template. The function ensures that the template is
evaluated safely without raising exceptions for missing placeholders.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>template (SourceInfoTemplateType): A string template or a <cite>Template</cite> object</dt><dd><p>that defines the format for formatting source information.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>Callable[[Dict[str, Any]], str]: A function that takes a dictionary of source
properties as input and returns a formatted string with placeholders replaced
by corresponding dictionary values.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin">
<span id="graphrag-toolkit-lexical-graph-retrieval-post-processors-reranker-mixin-module"></span><h2>graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin module<a class="headerlink" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin.RerankerMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin.</span></span><span class="sig-name descname"><span class="pre">RerankerMixin</span></span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/reranker_mixin.html#RerankerMixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin.RerankerMixin" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Provides an abstract base class for rerankers with mixin functionality.</p>
<p>This class serves as a foundational mixin for implementing custom rerankers.
It defines the required interface that any subclass must implement, including
a property to retrieve batch size and a method to rerank given pairs of data.
Subclasses of this mixin are expected to define domain-specific behavior for
reranking operations.</p>
<dl class="simple">
<dt>Attributes:</dt><dd><dl class="simple">
<dt>batch_size (int): Abstract property defining the number of items processed</dt><dd><p>in a batch by the reranker.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin.RerankerMixin.batch_size">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">batch_size</span></span><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin.RerankerMixin.batch_size" title="Link to this definition">¶</a></dt>
<dd><p>Abstract property that defines the batch size for a specific object
or operation.</p>
<p>This property serves as an interface for retrieving or working with the batch size,
making it mandatory to implement in any subclass that inherits from the class which
declares this property. Subclasses must define the behavior and value associated
with this property.</p>
<dl class="simple">
<dt>Attributes:</dt><dd><dl class="simple">
<dt>batch_size: An integer representing the size of the batch used in the context</dt><dd><p>of the implementation.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin.RerankerMixin.rerank_pairs">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rerank_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pairs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">128</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/reranker_mixin.html#RerankerMixin.rerank_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin.RerankerMixin.rerank_pairs" title="Link to this definition">¶</a></dt>
<dd><p>Reranks the given list of key-value pairs by assigning a numerical
score to each pair. The reranking operation is expected to be
implemented by subclasses inheriting this abstract method. The method
takes a list of tuples (key-value pairs) and an optional batch size
parameter to process the data in chunks.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>pairs:</dt><dd><p>A list of tuples, where each tuple contains two strings representing the
key-value pair to be reranked.</p>
</dd>
<dt>batch_size:</dt><dd><p>An optional integer specifying the size of data chunks to process in batches.
Default value is 128.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>A list of float values corresponding to the reranked scores for the given
key-value pairs. The returned list should maintain the same order as the input list.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker">
<span id="graphrag-toolkit-lexical-graph-retrieval-post-processors-sentence-reranker-module"></span><h2>graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker module<a class="headerlink" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.</span></span><span class="sig-name descname"><span class="pre">SentenceReranker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">top_n:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'cross-encoder/stsb-distilroberta-base'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_retrieval_score:</span> <span class="pre">bool</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback_manager:</span> <span class="pre">~llama_index.core.callbacks.base.CallbackManager</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trust_remote_code:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size_internal:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">128</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/sentence_reranker.html#SentenceReranker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">SentenceTransformerRerank</span></code>, <a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin.RerankerMixin" title="graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin.RerankerMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">RerankerMixin</span></code></a></p>
<p>Represents a specialized sentence reranker that combines functionalities
from SentenceTransformerRerank and RerankerMixin.</p>
<p>This class is designed to rerank sentence pairs using a pre-trained cross-encoder
model. Users can specify parameters such as the top N results to rerank, the
underlying model to use, and batch size. The class initializes with support
for GPU execution if available and relies on external libraries such as
<cite>sentence_transformers</cite> and <cite>torch</cite>.</p>
<dl class="simple">
<dt>Attributes:</dt><dd><p>batch_size_internal (int): Internal batch size used during reranking.</p>
</dd>
</dl>
<p>Initializes the class with configuration for a model execution
environment.</p>
<p>This constructor sets up the initial parameters for handling model operations, such
as determining the top number of results, model name, device configuration, batch size,
and additional keyword arguments. It ensures that the required external dependencies
are available and imports them upon initialization.</p>
<dl>
<dt>Args:</dt><dd><p>top_n (int): The number of top results to retrieve. Default is 2.
model (str): The name or identifier of the model to be used.</p>
<blockquote>
<div><p>Default is “cross-encoder/stsb-distilroberta-base”.</p>
</div></blockquote>
<dl class="simple">
<dt>device (Optional[str]): Specifies the device to execute the model.</dt><dd><p>For example, ‘cpu’ or ‘cuda’. Default is None.</p>
</dd>
<dt>keep_retrieval_score (Optional[bool]): Determines whether to retain</dt><dd><p>the retrieval score after execution. Default is False.</p>
</dd>
<dt>batch_size (Optional[int]): Defines the size of batches to be processed</dt><dd><p>during execution. Default is 128.</p>
</dd>
<dt><a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs (Any): Additional keyword arguments for further customization</dt><dd><p>of the model initialization.</p>
</dd>
</dl>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>ImportError: If the required ‘torch’ and/or ‘sentence_transformers’</dt><dd><p>packages are not installed.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.batch_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">batch_size</span></span><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.batch_size" title="Link to this definition">¶</a></dt>
<dd><p>Returns the internal batch size value.</p>
<p>This property provides access to the internal variable <cite>batch_size_internal</cite>,
which stores the batch size for the current object. It is used to retrieve the
value externally without directly exposing the internal variable.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>int: The batch size value stored in the internal variable.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.batch_size_internal">
<span class="sig-name descname"><span class="pre">batch_size_internal</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.batch_size_internal" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'arbitrary_types_allowed':</span> <span class="pre">True}</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.model_config" title="Link to this definition">¶</a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.model_post_init">
<span class="sig-name descname"><span class="pre">model_post_init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.model_post_init" title="Link to this definition">¶</a></dt>
<dd><p>This function is meant to behave like a BaseModel method to initialise private attributes.</p>
<p>It takes context as an argument since that’s what pydantic-core passes when calling it.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>self: The BaseModel instance.
context: The context.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.rerank_pairs">
<span class="sig-name descname"><span class="pre">rerank_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pairs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">128</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/sentence_reranker.html#SentenceReranker.rerank_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.rerank_pairs" title="Link to this definition">¶</a></dt>
<dd><p>Re-ranks pairs of sentences based on their similarity or relevance
by passing them through the model for prediction. It processes the
pairs in batches for efficiency.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>pairs (List[Tuple[str, str]]): A list of sentence pairs, where each pair consists</dt><dd><p>of two strings to be compared.</p>
</dd>
<dt>batch_size (int): The number of sentence pairs to process in a single batch.</dt><dd><p>Defaults to 128.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>List[float]: A list of prediction scores for each pair, indicating their similarity</dt><dd><p>or relevance.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity">
<span id="graphrag-toolkit-lexical-graph-retrieval-post-processors-statement-diversity-module"></span><h2>graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity module<a class="headerlink" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.ALL_TEXT">
<span class="sig-prename descclassname"><span class="pre">graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.</span></span><span class="sig-name descname"><span class="pre">ALL_TEXT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BaseNode</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.ALL_TEXT" title="Link to this definition">¶</a></dt>
<dd><p>Extracts the textual content of a given node.</p>
<p>This function retrieves the text attribute from the provided node object.
The function assumes the node has a text attribute which contains the
desired string content.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>node (BaseNode): The node object from which the text content will be</dt><dd><p>retrieved. The node must have a <cite>text</cite> attribute.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>str: The text content of the provided node.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.</span></span><span class="sig-name descname"><span class="pre">StatementDiversityPostProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">similarity_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.975</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/statement_diversity.html#StatementDiversityPostProcessor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseNodePostprocessor</span></code></p>
<p>Postprocessor for ensuring diversity among statements.</p>
<p>This class preprocesses textual data and postprocesses nodes to ensure that
similar or duplicate entries are reduced based on a given similarity threshold.
Using spaCy for natural language processing and TF-IDF for text similarity
calculation, this postprocessor identifies and filters out redundant nodes.
It is intended to work with query-based document retrieval or node filtering
pipelines.</p>
<dl class="simple">
<dt>Attributes:</dt><dd><dl class="simple">
<dt>similarity_threshold (float): Threshold value for determining similarity</dt><dd><p>between two text nodes. Text nodes with a cosine similarity above this
threshold are considered duplicates and are filtered out.</p>
</dd>
<dt>nlp (Any): Instance of spaCy NLP object used for text preprocessing. This</dt><dd><p>object is configured with specific components including a sentencizer.</p>
</dd>
<dt>text_fn (Callable[[BaseNode], str]): Callable function used to extract text</dt><dd><p>from a given node.</p>
</dd>
</dl>
</dd>
</dl>
<p>Initializes an instance of the class with the specified similarity
threshold and text function. Loads the spaCy language model for text
processing, specifically disabling named entity recognition and
parsing, but adding a sentence segmenter. If the required spaCy model
is not found, raises a ModelError with instructions to install the
missing model.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>similarity_threshold (float): The threshold for similarity comparison, which should</dt><dd><p>be a value between 0 and 1. Defaults to 0.975.</p>
</dd>
<dt>text_fn (optional): A function to apply to text data when processing.</dt><dd><p>If not provided, defaults to ALL_TEXT.</p>
</dd>
</dl>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>ModelError: If the required spaCy model (‘en_core_web_sm’) is not installed or</dt><dd><p>cannot be loaded, an exception is raised.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'arbitrary_types_allowed':</span> <span class="pre">True}</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.model_config" title="Link to this definition">¶</a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.nlp">
<span class="sig-name descname"><span class="pre">nlp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.nlp" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.preprocess_texts">
<span class="sig-name descname"><span class="pre">preprocess_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/statement_diversity.html#StatementDiversityPostProcessor.preprocess_texts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.preprocess_texts" title="Link to this definition">¶</a></dt>
<dd><p>Preprocesses a list of texts by tokenizing, lemmatizing, and
replacing numeric values with specific placeholders. This method
removes stopwords and punctuations, converts tokens to lowercase,
normalizes numbers by replacing them with placeholders, and generates a
list of preprocessed strings.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>texts (List[str]): A list of textual inputs to preprocess by tokenizing,</dt><dd><p>removing stopwords and punctuations, lemmatizing, and replacing numeric
values with placeholders.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>List[str]: A list of preprocessed texts where numeric values are normalized</dt><dd><p>with placeholders, stopwords and punctuations are removed, and tokens
are converted to their lemmatized, lowercase forms.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.similarity_threshold">
<span class="sig-name descname"><span class="pre">similarity_threshold</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.similarity_threshold" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.text_fn">
<span class="sig-name descname"><span class="pre">text_fn</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">BaseNode</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.text_fn" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.TOPICS">
<span class="sig-prename descclassname"><span class="pre">graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.</span></span><span class="sig-name descname"><span class="pre">TOPICS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BaseNode</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.TOPICS" title="Link to this definition">¶</a></dt>
<dd><p>Processes a given node to extract and return the topic information.</p>
<p>This function takes a node object, validates its text content as a JSON
representation of a <cite>SearchResult</cite>, and extracts the associated topic.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>node: A <cite>BaseNode</cite> object containing the text data to be validated and</dt><dd><p>processed.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>The topic extracted from the <cite>SearchResult</cite> object as a string.</p>
</dd>
<dt>Raises:</dt><dd><p>ValidationError: If the JSON validation for the <cite>SearchResult</cite> fails.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.TOPICS_AND_STATEMENTS">
<span class="sig-prename descclassname"><span class="pre">graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.</span></span><span class="sig-name descname"><span class="pre">TOPICS_AND_STATEMENTS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BaseNode</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.TOPICS_AND_STATEMENTS" title="Link to this definition">¶</a></dt>
<dd><p>Constructs a string containing topics and statements retrieved from a
given node’s text by validating it against a model.</p>
<p>The function processes textual data from a provided node, extracting the topic and associated
statements from it. The resulting topic and statements are combined into a single string, where
each entry is placed on a new line. This function utilizes a search result model for validation
and parsing.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>node (BaseNode): The input node containing textual data, which will be parsed and processed</dt><dd><p>to extract topics and statements.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>str: A string comprising the extracted topic and statements, with each entry separated by</dt><dd><p>a newline.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement">
<span id="graphrag-toolkit-lexical-graph-retrieval-post-processors-statement-enhancement-module"></span><h2>graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement module<a class="headerlink" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.</span></span><span class="sig-name descname"><span class="pre">StatementEnhancementPostProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">llm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">LLM</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="graphrag_toolkit.lexical_graph.utils.html#graphrag_toolkit.lexical_graph.utils.llm_cache.LLMCache" title="graphrag_toolkit.lexical_graph.utils.llm_cache.LLMCache"><span class="pre">LLMCache</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_prompt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'\n#</span> <span class="pre">Instructions:\nYou</span> <span class="pre">are</span> <span class="pre">a</span> <span class="pre">helpful</span> <span class="pre">assistant</span> <span class="pre">that</span> <span class="pre">clarifies</span> <span class="pre">statements</span> <span class="pre">to</span> <span class="pre">make</span> <span class="pre">them</span> <span class="pre">self-explanatory,</span> <span class="pre">even</span> <span class="pre">without</span> <span class="pre">context.</span> <span class="pre">\nYour</span> <span class="pre">task</span> <span class="pre">is</span> <span class="pre">to</span> <span class="pre">enhance</span> <span class="pre">the</span> <span class="pre">clarity</span> <span class="pre">and</span> <span class="pre">understandability</span> <span class="pre">of</span> <span class="pre">statements</span> <span class="pre">while</span> <span class="pre">preserving</span> <span class="pre">their</span> <span class="pre">original</span> <span class="pre">meaning</span> <span class="pre">and</span> <span class="pre">intent.\nYou</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">provided</span> <span class="pre">with</span> <span class="pre">a</span> <span class="pre">statement</span> <span class="pre">and</span> <span class="pre">its</span> <span class="pre">corresponding</span> <span class="pre">context.\n\nFor</span> <span class="pre">the</span> <span class="pre">claim,</span> <span class="pre">follow</span> <span class="pre">these</span> <span class="pre">steps:\n\n</span>&#160;&#160;&#160; <span class="pre">1.</span> <span class="pre">Replace</span> <span class="pre">any</span> <span class="pre">pronouns</span> <span class="pre">(e.g.,</span> <span class="pre">he,</span> <span class="pre">she,</span> <span class="pre">it,</span> <span class="pre">they)</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">specific</span> <span class="pre">nouns</span> <span class="pre">they</span> <span class="pre">refer</span> <span class="pre">to.</span>&#160;&#160;&#160; <span class="pre">\n</span>&#160;&#160;&#160; <span class="pre">2.</span> <span class="pre">Replace</span> <span class="pre">any</span> <span class="pre">acronyms</span> <span class="pre">with</span> <span class="pre">their</span> <span class="pre">full</span> <span class="pre">forms.\n</span>&#160;&#160;&#160; <span class="pre">3.</span> <span class="pre">If</span> <span class="pre">the</span> <span class="pre">statement</span> <span class="pre">is</span> <span class="pre">fragmented,</span> <span class="pre">use</span> <span class="pre">the</span> <span class="pre">provided</span> <span class="pre">context</span> <span class="pre">to</span> <span class="pre">reconstruct</span> <span class="pre">it</span> <span class="pre">into</span> <span class="pre">a</span> <span class="pre">complete,</span> <span class="pre">self-explanatory</span> <span class="pre">statement.\n</span>&#160;&#160;&#160; <span class="pre">4.</span> <span class="pre">Preserve</span> <span class="pre">any</span> <span class="pre">quoted</span> <span class="pre">speech</span> <span class="pre">or</span> <span class="pre">dialogue</span> <span class="pre">as</span> <span class="pre">is,</span> <span class="pre">without</span> <span class="pre">paraphrasing.\n</span>&#160;&#160;&#160; <span class="pre">5.</span> <span class="pre">If</span> <span class="pre">a</span> <span class="pre">statement</span> <span class="pre">is</span> <span class="pre">already</span> <span class="pre">self-explanatory,</span> <span class="pre">leave</span> <span class="pre">it</span> <span class="pre">unchanged.\n</span>&#160;&#160;&#160; <span class="pre">6.</span> <span class="pre">Do</span> <span class="pre">not</span> <span class="pre">introduce</span> <span class="pre">irrelevant</span> <span class="pre">context</span> <span class="pre">information</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">modified</span> <span class="pre">sentence.</span> <span class="pre">\n</span>&#160;&#160;&#160; <span class="pre">7.</span> <span class="pre">Do</span> <span class="pre">not</span> <span class="pre">use</span> <span class="pre">your</span> <span class="pre">training</span> <span class="pre">history,</span> <span class="pre">rely</span> <span class="pre">only</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">context</span> <span class="pre">information</span> <span class="pre">to</span> <span class="pre">enhance</span> <span class="pre">the</span> <span class="pre">statement.\n'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_prompt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'\n&lt;statement&gt;\n{statement}\n&lt;/statement&gt;\n\n\n&lt;context&gt;\n{context}\n&lt;/context&gt;\n\n#</span> <span class="pre">Response</span> <span class="pre">Format:\n&lt;modified_statement&gt;Provide</span> <span class="pre">the</span> <span class="pre">self-explanatory</span> <span class="pre">statement</span> <span class="pre">here&lt;/modified_statement&gt;\n'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_concurrent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/statement_enhancement.html#StatementEnhancementPostProcessor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseNodePostprocessor</span></code></p>
<p>Post-processes nodes to enhance their statements using provided language
model and templates.</p>
<p>The <cite>StatementEnhancementPostProcessor</cite> class is responsible for enhancing textual statements
associated with nodes. This class utilizes a language model and specific templates to improve
the quality or formatting of the statements based on the provided chunk context. The enhancement
is performed concurrently on multiple nodes for efficiency.</p>
<dl>
<dt>Attributes:</dt><dd><dl class="simple">
<dt>llm (Optional[LLMCache]): Language model cache used for enhancing statements. Defaults to</dt><dd><p><cite>None</cite>, in which case a default LLM configuration is used.</p>
</dd>
</dl>
<p>max_concurrent (int): Maximum number of nodes to process concurrently. Defaults to 10.
system_prompt (str): System-level prompt used as part of the enhancement template.
user_prompt (str): User-level prompt used as part of the enhancement template.
enhance_template (ChatPromptTemplate): Template used to structure the prompts for the</p>
<blockquote>
<div><p>language model.</p>
</div></blockquote>
</dd>
</dl>
<p>Initializes an instance of the class with an optional large language
model (LLM) cache, a system prompt, a user prompt, and a configurable
maximum number of concurrent executions. The system and user prompts
initialize a chat template with predefined message roles and content.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>llm: An optional large language model cache of type LLMCacheType. If none is</dt><dd><p>provided, a new LLMCache instance is initialized with default settings.</p>
</dd>
<dt>system_prompt: A string representing the system prompt used to initialize the</dt><dd><p>chat template with a SYSTEM role message.</p>
</dd>
<dt>user_prompt: A string representing the user prompt used to initialize the chat</dt><dd><p>template with a USER role message.</p>
</dd>
<dt>max_concurrent: An integer specifying the maximum number of concurrent</dt><dd><p>executions allowed.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.enhance_statement">
<span class="sig-name descname"><span class="pre">enhance_statement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NodeWithScore</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">NodeWithScore</span></span></span><a class="reference internal" href="_modules/graphrag_toolkit/lexical_graph/retrieval/post_processors/statement_enhancement.html#StatementEnhancementPostProcessor.enhance_statement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.enhance_statement" title="Link to this definition">¶</a></dt>
<dd><p>Enhances the statement of the input node by generating a modified
version of the statement using a large language model (LLM). This
method updates the node with the enhanced statement if the enhancement
is successful. If an error occurs or the enhancement is unsuccessful,
the original node is returned as-is.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>node (NodeWithScore): The input node containing a text statement and</dt><dd><p>associated metadata to enhance.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>NodeWithScore: A node object that includes the modified statement if</dt><dd><p>successful, or the original node if the enhancement process fails.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.enhance_template">
<span class="sig-name descname"><span class="pre">enhance_template</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ChatPromptTemplate</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.enhance_template" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.llm">
<span class="sig-name descname"><span class="pre">llm</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="graphrag_toolkit.lexical_graph.utils.html#graphrag_toolkit.lexical_graph.utils.llm_cache.LLMCache" title="graphrag_toolkit.lexical_graph.utils.llm_cache.LLMCache"><span class="pre">LLMCache</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.llm" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.max_concurrent">
<span class="sig-name descname"><span class="pre">max_concurrent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.max_concurrent" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'arbitrary_types_allowed':</span> <span class="pre">True}</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.model_config" title="Link to this definition">¶</a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.system_prompt">
<span class="sig-name descname"><span class="pre">system_prompt</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.system_prompt" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.user_prompt">
<span class="sig-name descname"><span class="pre">user_prompt</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.user_prompt" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-graphrag_toolkit.lexical_graph.retrieval.post_processors">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors" title="Link to this heading">¶</a></h2>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="graphrag_toolkit.lexical_graph.retrieval.processors.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">graphrag_toolkit.lexical_graph.retrieval.processors package</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="graphrag_toolkit.lexical_graph.retrieval.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">graphrag_toolkit.lexical_graph.retrieval package</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Amazon Web Services, Inc
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
            
            <div class="legal-info">
                <a href="https://aws.amazon.com/privacy">Privacy</a> | 
                <a href="https://aws.amazon.com/terms">Site Terms</a> | 
                <a href="#" id="cookie-button-link">Cookie preferences</a>
            </div>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/awslabs/graphrag-toolkit" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="sidebar-div show-div-md justify-content-left">
            <label class="nav-close-icon" id="toc-menu-close" for="__toc" tabindex="0">
                <div class="visually-hidden">Toggle site table of content right sidebar</div>
                <i class="icon"><svg><use href="#svg-close"></use></svg></i>
            </label>
        </div>
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">graphrag_toolkit.lexical_graph.retrieval.post_processors package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format">graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format module</a><ul>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format.BedrockContextFormat"><code class="docutils literal notranslate"><span class="pre">BedrockContextFormat</span></code></a><ul>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format.BedrockContextFormat.class_name"><code class="docutils literal notranslate"><span class="pre">BedrockContextFormat.class_name()</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bedrock_context_format.BedrockContextFormat.model_config"><code class="docutils literal notranslate"><span class="pre">BedrockContextFormat.model_config</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker">graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker module</a><ul>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker"><code class="docutils literal notranslate"><span class="pre">BGEReranker</span></code></a><ul>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.batch_size"><code class="docutils literal notranslate"><span class="pre">BGEReranker.batch_size</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.batch_size_internal"><code class="docutils literal notranslate"><span class="pre">BGEReranker.batch_size_internal</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.device"><code class="docutils literal notranslate"><span class="pre">BGEReranker.device</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.gpu_id"><code class="docutils literal notranslate"><span class="pre">BGEReranker.gpu_id</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.model_config"><code class="docutils literal notranslate"><span class="pre">BGEReranker.model_config</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.model_name"><code class="docutils literal notranslate"><span class="pre">BGEReranker.model_name</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.rerank_pairs"><code class="docutils literal notranslate"><span class="pre">BGEReranker.rerank_pairs()</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.bge_reranker.BGEReranker.reranker"><code class="docutils literal notranslate"><span class="pre">BGEReranker.reranker</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details">graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details module</a><ul>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.EnrichSourceDetails"><code class="docutils literal notranslate"><span class="pre">EnrichSourceDetails</span></code></a><ul>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.EnrichSourceDetails.class_name"><code class="docutils literal notranslate"><span class="pre">EnrichSourceDetails.class_name()</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.EnrichSourceDetails.model_config"><code class="docutils literal notranslate"><span class="pre">EnrichSourceDetails.model_config</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.EnrichSourceDetails.source_info_accessor"><code class="docutils literal notranslate"><span class="pre">EnrichSourceDetails.source_info_accessor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.source_info_keys"><code class="docutils literal notranslate"><span class="pre">source_info_keys()</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.enrich_source_details.source_info_template"><code class="docutils literal notranslate"><span class="pre">source_info_template()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin">graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin module</a><ul>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin.RerankerMixin"><code class="docutils literal notranslate"><span class="pre">RerankerMixin</span></code></a><ul>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin.RerankerMixin.batch_size"><code class="docutils literal notranslate"><span class="pre">RerankerMixin.batch_size</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.reranker_mixin.RerankerMixin.rerank_pairs"><code class="docutils literal notranslate"><span class="pre">RerankerMixin.rerank_pairs()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker">graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker module</a><ul>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker"><code class="docutils literal notranslate"><span class="pre">SentenceReranker</span></code></a><ul>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.batch_size"><code class="docutils literal notranslate"><span class="pre">SentenceReranker.batch_size</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.batch_size_internal"><code class="docutils literal notranslate"><span class="pre">SentenceReranker.batch_size_internal</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.model_config"><code class="docutils literal notranslate"><span class="pre">SentenceReranker.model_config</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.model_post_init"><code class="docutils literal notranslate"><span class="pre">SentenceReranker.model_post_init()</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.sentence_reranker.SentenceReranker.rerank_pairs"><code class="docutils literal notranslate"><span class="pre">SentenceReranker.rerank_pairs()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity">graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity module</a><ul>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.ALL_TEXT"><code class="docutils literal notranslate"><span class="pre">ALL_TEXT()</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor"><code class="docutils literal notranslate"><span class="pre">StatementDiversityPostProcessor</span></code></a><ul>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.model_config"><code class="docutils literal notranslate"><span class="pre">StatementDiversityPostProcessor.model_config</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.nlp"><code class="docutils literal notranslate"><span class="pre">StatementDiversityPostProcessor.nlp</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.preprocess_texts"><code class="docutils literal notranslate"><span class="pre">StatementDiversityPostProcessor.preprocess_texts()</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.similarity_threshold"><code class="docutils literal notranslate"><span class="pre">StatementDiversityPostProcessor.similarity_threshold</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.StatementDiversityPostProcessor.text_fn"><code class="docutils literal notranslate"><span class="pre">StatementDiversityPostProcessor.text_fn</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.TOPICS"><code class="docutils literal notranslate"><span class="pre">TOPICS()</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_diversity.TOPICS_AND_STATEMENTS"><code class="docutils literal notranslate"><span class="pre">TOPICS_AND_STATEMENTS()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement">graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement module</a><ul>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor"><code class="docutils literal notranslate"><span class="pre">StatementEnhancementPostProcessor</span></code></a><ul>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.enhance_statement"><code class="docutils literal notranslate"><span class="pre">StatementEnhancementPostProcessor.enhance_statement()</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.enhance_template"><code class="docutils literal notranslate"><span class="pre">StatementEnhancementPostProcessor.enhance_template</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.llm"><code class="docutils literal notranslate"><span class="pre">StatementEnhancementPostProcessor.llm</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.max_concurrent"><code class="docutils literal notranslate"><span class="pre">StatementEnhancementPostProcessor.max_concurrent</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.model_config"><code class="docutils literal notranslate"><span class="pre">StatementEnhancementPostProcessor.model_config</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.system_prompt"><code class="docutils literal notranslate"><span class="pre">StatementEnhancementPostProcessor.system_prompt</span></code></a></li>
<li><a class="reference internal" href="#graphrag_toolkit.lexical_graph.retrieval.post_processors.statement_enhancement.StatementEnhancementPostProcessor.user_prompt"><code class="docutils literal notranslate"><span class="pre">StatementEnhancementPostProcessor.user_prompt</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-graphrag_toolkit.lexical_graph.retrieval.post_processors">Module contents</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=f731707b"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=5eb1bb1e"></script>
    <script src="_static/js/custom.js?v=3ea019ec"></script>
    </body>
</html>